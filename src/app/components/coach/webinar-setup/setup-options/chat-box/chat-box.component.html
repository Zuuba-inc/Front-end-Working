<section id="webinar-sec" class="content" >
<form id="webinar-nav" name="webinar-config" method="post" enctype="multipart/form-data" class="form signup_form" accept-charset="UTF-8" ng-submit="submitSalesPage()" #webinarForm="ngForm">
      <div class="container-fluid px-md-5 px-3">
    <div class="xdWebChatBox" data-parent="#pageAccordion">
        <!-- AHMED - Add the new header -->
        <header class="inner-header">
                  <h2 class="configureSetupForm">chat box</h2>
                  <button style="display:none" type="button" class="resetPreviewBtn backButton" ng-click="backPreview('configureSetupForm','configure','configurePreview');"><span class="icon cf-arrow-right"></span> Back</button>
        </header>
        
        <div class="row" style="padding-top: 3% !important; padding-left: 7% !important;"><!-- row start-->
          <!-- page content start-->
          <div class="col-xl-4 cstm-input scrollOverflow"><!-- col-xl-4 start-->
      
            <div id="webinarTypeAcc"><!--- webinarTypeAcc start ----->
      
              <!-- <div class="text-left">
                <div class="normal-title">CHAT BOX</div>
              </div>
      
              <br> -->
              
              <!-- AHMED add normal-title calss to all titles -->
              <div class="form-group">
                <p class="normal-title fs-14">Automated message title</p>
                <input type="text" class="form-control" name="title" [(ngModel)]="webinarChatTitle" maxlength="50"
                  #chatTitle="ngModel" required>
                  <div *ngIf="chatTitle.invalid && (chatTitle.dirty || chatTitle.touched)"
                      class="validationError">

                      <div *ngIf="chatTitle.errors.required">
                      *Webinar ChatTitle is required.
                    </div>
                </div>
              </div>
      
              <div class="form-group">
                <p class="normal-title fs-14">Message content</p>
                <textarea class="form-control" name="description" cols="3" [(ngModel)]="webinarChatDesc" 
                  maxlength="200" #chatDesc="ngModel" required></textarea>
                  <div *ngIf="chatDesc.invalid && (chatDesc.dirty || chatDesc.touched)"
                      class="validationError">

                      <div *ngIf="chatDesc.errors.required">
                      *Webinar ChatDescription is required.
                    </div>
                  </div>
              </div>
      
              <p class="normal-title fs-12">When to display message</p>
      
              <div class="d-flex cstm-time-input">
                <div class="tmbx">
                  <input type="number" class="form-control" name="hour" max="24" [(ngModel)]="webinarChatHour"
                  #chatHour="ngModel" required>
                  <span class="fs-10 text-muted uppr">Hour</span>
                </div>
                <div class="px-2 py-1">:</div>
                <div class="tmbx">
                  <input type="number" class="form-control" name="minute" max="60" [(ngModel)]="webinarChatMinute"
                  #chatMinute="ngModel" required>
                  <span class="fs-10 text-muted uppr">Minute</span>
                </div>
                <div class="px-2 py-1">:</div>
                <div class="tmbx">
                  <input type="number" class="form-control" name="second" max="60" [(ngModel)]="webinarChatSecond"
                  #chatSecond="ngModel" required>
                  <span class="fs-10 text-muted uppr">Second</span>
                </div>
              </div>
              <div *ngIf="chatHour.invalid && (chatHour.dirty || chatHour.touched)"
                      class="validationError">

                      <div *ngIf="chatHour.errors.required">
                      *Webinar chatHour is required.
                    </div>
                  </div>
                  <div *ngIf="chatMinute.invalid && (chatMinute.dirty || chatMinute.touched)"
                      class="validationError">

                      <div *ngIf="chatMinute.errors.required">
                      *Webinar chatMinute is required.
                    </div>
                  </div>
                  <div *ngIf="chatSecond.invalid && (chatSecond.dirty || chatSecond.touched)"
                      class="validationError">

                      <div *ngIf="chatSecond.errors.required">
                      *Webinar chatSecond is required.
                    </div>
                  </div>
              <br>
              <a href="javascript://" *ngIf="showAdd" class="btn btn-success btn-round btn-sm" style="width: 65px" (click)="addWebinarChat();" id="chatAdd">Add</a>
              <a href="javascript://" *ngIf="showEdit" class="btn btn-success btn-round btn-sm" (click)="editWebinarChatList(webinarChatId);" style="width: 67px" id="chatEdit">Edit</a>
      
             
              <div class="clearfix"></div>
      
               <br>
      
              <p class="normal-title fs-12">Automated Messages</p>
      
              <!-- AHMED  -->
              <div class="flex-center justify-content-between" *ngFor="let webinarChat of webinarMst.webinarChatDetails; let i = index">
                  <div class="divContentWithTextUser">
                  <a href="javascript://" (click)="editWebinarChat(webinarChat,i);">
                    <div class="fs-14 text-muted mr-3">
                        {{i+1}}
                    </div>
                    <div class="text-left text-muted lh-1-5">
                      <p class="fs-14 mb-0 bold ">{{webinarChat.chatTitle}}</p>
                      <p class="fs-12 text-muted text-italic mb-0">{{webinarChat.chatTimeInHour}} Hour(s) {{webinarChat.chatTimeInMinute}} Minute(s) {{webinarChat.chatTimeInSecond}} Second(s)<br> {{webinarChat.chatDesc}}</p>
                    </div>
                   </a>
                </div>
                  <div>
                    <a href="javascript://" class="text-muted deleteIcon" (click)="deleteWebinarChat(webinarChat);"><i class="material-icons fs-10">delete</i></a>
                  </div>
                </div>
      
            </div>
            <!--- webinarTypeAcc Close ----->
      
            <br>
      
            <div class="clearfix"></div>
      
          </div><!-- col-xl-4 start-->
          <!-- page content close-->
      
          <!-- col-xl-8 start-->
          <div class="col-xl-8">
            <div class="livePreviewbox">
              <!-- livePreviewbox start -->
              <!-- <a href="javascript://" class="btn-block btn btn-dark-blue mt-0 btn-livepreview"><i class="material-icons fs-14 mr-2">remove_red_eye</i> Live preview</a> -->
              <div class="live-box"><!-- live-box start --->
                <div  class="liveHtmlFullPage viewzoom-2"><!-- liveHtmlFullPage start --->
                  <div class="section-padding bg-f7">
                    <div class="container">
                     
                      <div class="row justify-content-center">
                        <div class="col-md-4">
                          <!-- AHMED create insturtion -->
                          <div class="instruction">
                            <i class="material-icons" style="font-size: 20px">error_outline</i>
                            *Loren ipsum dolor text test for description the preview card below.
                          </div>
                          <div class="stack messageArea webinarChat">
                              <div class="p-3 border-bottom flex-center justify-content-between" style="color: #363636;">
                                <span class="fs-14 bold">Webinar Chat</span>
                                <span class="fs-14 bold">20 Attendees</span>
                              </div>
                              
                              <div class="msgViewBody">
                                  <div class="msgStrip you" *ngFor="let webinarChat of webinarMst.webinarChatDetails">
                                      <div class="avatar35 mr-2">
                                          <img src="/assets/new_js_css_img_updated/img/avatar-2.jpg" class="img-fluid">
                                      </div>
                                      <div class="msgContent text-small lh-1-5">
                                          <div class="uppr name">{{firstName + lastName}}</div>
                                           <p class="typetextMsg">
                                              {{webinarChat.chatDesc}}
                                          </p>
                                      </div>
                                  </div>
      
                                  <!--<div class="msgStrip you">
                                      <div class="avatar35 mr-2">
                                          <img src="/assets/new_js_css_img_updated/img/avatar-2.jpg" class="img-fluid">
                                      </div>
                                      <div class="msgContent text-small lh-1-5">
                                          <div class="uppr name">Susan Carolyn</div>
                                           <p class="typetextMsg">
                                              Lorem ipsum dolor sit amet, consectetur adipisicing elit
                                          </p>
                                      </div>
                                  </div>
      
                                  <div class="msgStrip you">
                                      <div class="avatar35 mr-2">
                                          <img src="/assets/new_js_css_img_updated/img/avatar-2.jpg" class="img-fluid">
                                      </div>
                                      <div class="msgContent text-small lh-1-5">
                                          <div class="uppr name">Brian Tei</div>
                                           <p class="typetextMsg">
                                              Lorem ipsum dolor sit amet, consectetur adipisicing elit
                                          </p>
                                      </div>
                                  </div>-->
                                  
                              </div>
      
                              <div class="py-3 cstm-input no-border">
                                  <div class="w-100 brdr-top">
                                      <textarea class="form-control " rows="3" placeholder="Write your message..."></textarea>
                                  </div>
                                  <div class="text-right pr-3">
                                    <a href="javascript://" class="btn btn-success">Send</a>
                                  </div>
                                  <div class="clearfix"></div>
                              </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div><!-- liveHtmlFullPage close --->
              </div><!-- live-box close --->
            </div>
          </div>
          <!-- col-xl-8 close-->
        </div> <!-- row close-->
      </div>
      </div>
      </form>
      <div class="save-actions">
          <a href="javascript" data-toggle="collapse" data-target=".xdWebChatBox"class="btn btn-sm btn-outline-success" (click)="goBack();">Back</a>
          <a href="javascript" *ngIf="webinarTypeChosen == 'live'" (click)="router.navigate(['/webinarSetup/PresentationVideo/'])" data-toggle="collapse" data-target=".xdWebEmail" class="btn btn-sm btn-success">Save & Next</a>
          <a href="javascript" *ngIf="webinarTypeChosen == 'auto'" (click)="saveChatbox();goBackToFunnel()" data-toggle="collapse" data-target=".xdWebEmail" class="btn btn-sm btn-success" >Save & Finish</a>
          <a href="javascript" *ngIf="!webinarTypeChosen" (click)="saveChatbox();goBackToFunnel()" data-toggle="collapse" data-target=".xdWebEmail" class="btn btn-sm btn-success" >Save & Finish</a>
        </div>
    </section>