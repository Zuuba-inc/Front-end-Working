<!--   -->
<div class="page-wrapper" *ngIf="editEmailView">
    <!-- start section header -->
    <section class="header" *ngIf="!asSubmodule" style="z-index: 1;position: fixed;width: 100vw;">
        <div class="row">
            <div id="back" class="d-inline col-lg-1 p-0">
                <button type="button" class="btn btn-light rounded-0" [routerLink]="['/emailList']"
                    style="cursor: pointer;">
                    <img src="assets/icons/ic_back.svg">
                    Back
                </button>
            </div>
            <div id="build" class="d-inline col-lg-10 p-0 border-0 text-center">
                <div style="padding-top:10px;">
                    <span tooltip="Click to rename email name" id="emailTitle"
                        (mouseover)="editingEmailTitleBorder('Show')" (mouseleave)="editingEmailTitleBorder('Hide')"
                        style="display: inline-block;width: 30%;border-bottom: none;text-align: left;">
                        <h2 (click)="editingEmailTitle();"  (keydown)="onEnter($event)" class="d-inline"
                            id="templateTitleText" (blur)="saveEmailTempelateTitle('Title')" contenteditable="true">
                            {{emailTemplate.emailTitle}}</h2>

                        <button id="emailTitleEditButton" class="pencil"
                            style="background: none;border: none;margin: 0;padding: 0;width: 30px;float:right;display: none; ">
                            <img id="editTitleImage" style="max-width: 16px !important;
                        max-height: 16px !important;" src="assets/icons/pencil-edit-button (1).svg">

                        </button>
                    </span>
                    <div *ngIf="emailTitle.length == 30" style="z-index: 9999;position: relative;">
                        <span style="color: red; font-size: 12px;width: 50%;background: #f3f2f2;">*You cannot enter nore
                            that 80 character for the title</span>
                    </div>
                </div>
            </div>
            <div *ngIf="!asSubmodule" (click)="onNavigation('changeEmailTemplate')"
                style="position: absolute;right: 11%;top: 13px; cursor: pointer;font-size: 12px;
                color: #707070;">
                <img src="assets/icons/ic_templateemail.svg" style="margin-bottom: 3px;">
                Change Email Template
            </div>
            <div id="preview" class="d-inline col-lg-1 p-0">
                <button type="button" class="btn btn-light" (click)="preview()"
                    style="cursor: pointer;">Preview</button>
            </div>
        </div>
    </section>
    <!-- end section header -->

    <!-- start section content -->
    <section class="content" [ngClass]="{'asnm': !asSubmodule, 'asm': asSubmodule}">
        <div class="row " id="main">
            <!-- start  sidepar -->
            <div class="col-lg-3 sidepar" style="position: fixed;left: 0 !important;z-index: 1;">
                <div class="row">
                    <div class=" col-lg-4 d-inline" (click)="setActiveSB(null)" style="cursor: pointer;">
                        <img id="addTabImage" alt="" src="assets/icons/ic_addelements_on.svg">
                        <h3>Add</h3>
                    </div>
                    <div class=" col-lg-4 d-inline" (click)="setActiveSB('themes')" style="cursor: pointer;">
                        <img id="themesTabImage" alt="" src="assets/icons/ic_themes_off.svg">
                        <h3>Themes</h3>
                    </div>
                    <!-- [routerLink]="['/AddBackground']"  -->

                    <div (click)="setActiveSB('background')" style="cursor: pointer;"
                        class=" col-lg-4 d-inline border border-0">
                        <img id="backgroundTabImage" alt="" src="assets/icons/ic_background_off.svg">
                        <h3>Background</h3>
                    </div>
                </div>

                <div class="list" *ngIf="!activeSB">
                    <h2>ADD ELEMENTS</h2>
                    <ul>
                        <!-- [routerLink]="['/AddText']" -->
                        <li (click)="setActiveSB('AddText')">
                            <img class="d-inline" src="assets/icons/ic_elements_text.svg">
                            <h5 class="d-inline">Text</h5>
                        </li>
                        <!-- [routerLink]="['/AddLogo']" -->
                        <li (click)="setActiveSB('AddLogo')" [ngClass]="{ 'disableLogoOption':hasLogo == true }">
                            <img class="d-inline" src="assets/icons/ic_elements_logo.svg">
                            <h5 class="d-inline">Logo</h5>
                        </li>
                        <!-- [routerLink]="['/AddImage']" -->
                        <li (click)="openSelectFileModel('Image')">
                            <img class="d-inline" src="assets/icons/ic_elements_image.svg">
                            <h5 class="d-inline">Image</h5>
                        </li>
                        <!-- (click)="setActiveSB('AddButton')" [routerLink]="['/AddButton']"  -->
                        <li (click)="setActiveSB('AddButton')">
                            <img class="d-inline" src="assets/icons/ic_element_button.svg">
                            <h5 class="d-inline">Button</h5>
                        </li>
                        <!-- [routerLink]="['/AddColumn']" -->
                        <li (click)="setActiveSB('AddColumn')">
                            <img class="d-inline" src="assets/icons/ic_element_column.svg">
                            <h5 class="d-inline">Column</h5>
                        </li>
                        <!-- [routerLink]="['/AddSpacer']" -->
                        <li (click)="setActiveSB('AddSpacer')">
                            <img class="d-inline" src="assets/icons/ic_element_spacer.svg">
                            <h5 class="d-inline">Spacer</h5>
                        </li>

                    </ul>
                </div>

                <!-- The Select Image Modal -->
                <div id="cropperModal" class="imageSelectModal">

                    <!-- Modal content -->
                    <div class="imageSelectModal-content" style="width: fit-content;">
                        <div class="cropArea" style="width: 450px; height:300px;">

                            <!-- [imageChangedEvent]="imageChangedEvent" -->

                            <image-cropper [imageBase64]="imageBase64" [maintainAspectRatio]="true"
                                [aspectRatio]="4 / 3" [resizeToWidth]="800" [cropperMinWidth]="128"
                                [onlyScaleDown]="true" [roundCropper]="false" (imageCropped)="imageCropped($event)"
                                (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady()"
                                (loadImageFailed)="loadImageFailed()" style="width: inherit; height: inherit;">
                            </image-cropper>

                        </div>
                        <div class="row" style="margin-bottom: 20px;border-bottom: none;">
                            <div class="col-sm-6" style="text-align: center;"><button class="border-btn  live-preview__quiz--btn"
                                    (click)="closeModel('Close')" style="margin-top: 0px;background: white;
                                    color: black;">Cancel</button></div>
                            <div class="col-sm-6" style="text-align: center;" [ngStyle]="{'display': displaySet}">
                                <button class="live-preview__quiz--btn" (click)="closeModel('OK')"
                                style="margin-top: 0px;">Select</button>
                                <!-- [ngClass]="{'display': displaySet, 'disableModalSelect' : !sizeInLimit, 'live-preview__quiz--btn': sizeInLimit}" -->
                                <!-- [disabled]="!sizeInLimit" -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- The Select Image Modal -->
                <div id="selectImageModal" class="imageSelectModal">

                    <!-- Modal content -->
                    <div class="imageSelectModal-content" [ngStyle]="{'width': pdfSrc != null ? '38%' : '50%'}">
                        <div class="imageModal-header">
                            <span class="imageModelclose" (click)="openSelectFileModel(fileType)">&times;</span>
                            <h4>Please select a {{fileType}}</h4>
                        </div>
                        <div class="imageModal-body">
                            <!-- section for image upload -->
                            <div class="setting__image pad-quiz-e" id="selectFile" (click)="onImageUploadClick()">
                                <div id="drop_zone">
                                    <h5>Upload {{fileType}}</h5>
                                    <app-upload-file [module]=fileType (file)="onFileUpload($event)">
                                    </app-upload-file>
                                </div>
                            </div>
                            <div class="setting__image pad-quiz-e" id="changeFile" style="display: none;">
                                <div id="drop_zone">
                                    <h5>Selected File</h5>
                                    <img id="fileTypeImage" src="assets/icons/ic_doc.svg"
                                        style="width: 40% !important;height: 30% !important;">
                                    <span style="display: block;">{{pdfSrc}}</span>
                                    <span (click)="changeFile()">Change File</span>
                                </div>
                            </div>
                        </div>
                        <div class="imageModal-footer" style="bottom: -85%;width: 100%;">
                            <button class="btn cancel" (click)="openSelectFileModel(fileType)">Cancel</button>
                            <button class="btn apply" *ngIf="pdfSrc != null" (click)="changeButtonText(null,'URL')">Add</button>
                        </div>
                    </div>
                </div>
                <!-- Add Dynamic Value Modal -->
                <div id="addDynamicValue" class="imageSelectModal">

                    <!-- Modal content -->
                    <div class="imageSelectModal-content" style="width: 40%">
                        <div class="imageModal-header">
                            <span class="imageModelclose" (click)="openAddDynamicValuesModal('Cancel');">&times;</span>
                            <h4>Add Dynamic Values</h4>
                        </div>
                        <div class="imageModal-body" style="width: 90%">
                            <div class="form-group ">
                                
                                <label>Which values do you want to add? <img  tooltip="Values will automatically change to display relevant information for each recipient." [width]="300" [theme]="'light'" src="assets/icons/info.svg" style="margin-bottom: 5px;max-width: 12px !important;"></label>
                                
                                <select class="form-control dropDownIcon" [(ngModel)]="dynamicValue.dynamicValue" 
                                style="padding-left: 8px !important">
                                    <option value="firstName">First Name</option>
                                    <option value="lastName">Last Name</option>
                                    <option value="email">Email</option>
                                </select>
                            </div>

                            <div class="form-group ">
                                <label>What is the fallback text? <img tooltip="People will see this text when no data is available for the value you choose." [width]="300"  [theme]="'light'" src="assets/icons/info.svg" style="margin-bottom: 5px;max-width: 12px !important;">                                 </label>
                                <input type="text" placeholder="e.g., Hey there! Customer" class="form-control"
                                [(ngModel)]="dynamicValue.dynamicFallbackText">
                            </div>
                            
                        </div>
                        <div class="imageModal-footer" style="bottom: -85%;width: 100%;">
                            <button class="btn cancel" style="background: white;
                            color: black;" (click)="openAddDynamicValuesModal('Cancel');">Cancel</button>
                            <button class="btn apply" (click)="openAddDynamicValuesModal('Add');" >Add</button>
                        </div>
                    </div>
                </div>
                <!-- The Select Image Modal ends -->
                <!-- text editor options -->
                <div *ngIf="activeSB == 'AddText'" class="list2 list5 add-element-text scroll sp emailbuilderSidebar"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg" style="cursor: pointer;" (click)="toggleToSBList()">
                    <h3 class="add-2">Add Elements</h3>
                    <h2>TEXT SETTINGS</h2>
                    <div class="text-style" style="width: 94.44%;margin: 30px 0 12px 0;border-bottom: 1px solid #E1E1E1;">
                        <h2>
                            Text format
                        </h2>
                        <label class="txt-wrap">
                            <select (ngModelChange)="updateFont($event,'Heading')"  [(ngModel)]="selectedHeading" style="border-bottom: none;">
                                <option value="0">Format</option>
                                <option value="46" >Large Heading </option>
                                <option value="30">Medium Heading</option>
                                <option value="20">Small Heading</option>
                                <option value="16">Large Paragraph</option>
                                <option value="14">Small Paragraph</option>
                            </select>
                        </label>
                    </div>
                    <div class="fonts" style="width: 94.44%;margin: 12px 0;border-bottom: 1px solid #E1E1E1;">
                        <h2>
                            Fonts
                        </h2>
                        <label class="txt-wrap">
                            <select class="txt-dropdown" [(ngModel)]="selectedFont" (ngModelChange)="updateFont($event,'Font Style')">
                                <option *ngFor="let font of fontList" value={{font}}
                                    [ngStyle]="{'font-family': font}">{{font}} </option>

                            </select>
                        </label>
                    </div>
                    <div class="font-size" style="width: 94.44%;margin: 12px 0;">
                        <h2>
                            Font size
                        </h2>
                        <ng5-slider   [(value)]="fontSize" [options]="options"
                            (mouseup)="updateFont(null,'Font Size')"></ng5-slider>
                        <select id="fontSize" [(ngModel)]="fontSize" (change)="updateFont($event,'Font Size')" style="text-align-last: center;
                        padding: 0px !important;">
                            <option *ngFor="let fs of fontSizes" value={{fs}} >{{fs}}</option>
                        </select>
                        <!-- <input id="fontSize" [(ngModel)]="fontSize" (mousedown)="updateFont(null,'Font Size')"
                            style="width: 40px;height: auto;margin-top: auto !important;" /> -->
                    </div>
                    <!-- <div class="capitalization" style="width: 94.44%;margin: 12px 0;border-bottom: 1px solid #E1E1E1;">
                        <h2>
                            Capitalization
                        </h2>
                        <label class="txt-wrap">
                            <select class="txt-dropdown" (change)="updateFont($event,'Capitalization')">
                                <option selected>lowercase </option>
                                <option>UPPERCASE</option>
                                <option>Capitalize</option>
                            </select>
                        </label>
                    </div> -->
                    
                    <div class="text-tool" *ngIf="alignmentWindow == true" style="width: 94.44%;margin: 12px 0;">
                        <div *ngFor="let align of alignmentMenu" (click)="openAlignmentMenu(align)">
                            <img src={{align.image}}> {{align.value}}
                        </div>
                    </div>
                    
                    <div class="text-tool" style="width: 94.44%;margin: 12px 0;">    
                        <img class="textToolHover" tooltip="Bold" id="textBold" (click)="updateFont('textBold','Bold');addRemoveActiveClass($event)"
                            src="assets/icons/text tool/ic_txtbold.svg">
                        <img class="textToolHover" tooltip="Underline" id="textUnderline"
                            (click)="updateFont('textUnderline','Underline');addRemoveActiveClass($event)"
                            src="assets/icons/text tool/ic_txtunderline.svg">
                        <img class="textToolHover" tooltip="Italic" id="textItalic" (click)="updateFont('textItalic','Italic');addRemoveActiveClass($event)"
                            src="assets/icons/text tool/ic_txtitalic.svg">
                        <img class="textToolHover" src="assets/icons/text tool/ic_txtcolor.svg" [(colorPicker)]="fontColor"
                        (click)="showColorPickerPosition($event)" [cpOutputFormat]="'hex'"
                            (cpSliderDragEnd)="updateFont('cpSliderDragEnd', 'Color')">
                        <img class="textToolHover" tooltip="Hilights" src="assets/icons/text tool/ic_txtbackgroundcolor.svg"
                        (click)="showColorPickerPosition($event)" [cpOutputFormat]="'hex'"
                            [(colorPicker)]="backgroundColor"
                            (cpSliderDragEnd)="updateFont('cpSliderDragEnd',  'BackgroundColor')">
                        
                            <div class="dropdown">
                                <!-- openAlignmentMenu(null); -->
                            <img class="textToolHover" tooltip="link" (click)="openLinkToWindow()"
                            src="assets/icons/text tool/ic_txtlink.svg">
                            <div *ngIf="linkToWindow == true" class="dropdown-alignment" style="display: block;height: 153px;right: -66px;padding: 7px;min-width: 250px;">
                                <p style="margin-bottom: 0px;">Link To:</p>
                                <input type="text" [(ngModel)]="linkTo" autofocus style="height: 30px;margin-bottom: 15px !important;" 
                                name="linkToUrl" required #linkToUrl="ngModel" (ngModelChange)="checkWebsiteUrlIsValid()"/>
                                <div class="validationError"
                                    *ngIf="linkToUrlInValid == false">
                                    Please Enter proper url
                                </div>
                                <div class="footer" style="width: 100%;padding-right: 0px;">
                                    <button type="submit" (click)="openLinkToWindow()" class="btn cancel">Cancel</button>
                                    <button type="submit" class="btn apply" [disabled]="linkToUrlInValid == false && linkTo != null && linkTo != '' "
                                        (click)="updateFont('Link','Link')">Apply</button>
                                </div>
        
                            </div>

                            </div>
                        
                        
                        <img class="textToolHover" tooltip="unlink" (click)="updateFont('Link','UnLink')"
                            src="assets/icons/text tool/ic_txtunlink.svg">
                    </div>
                    <div class="other-tool" style="width: 94.44%;margin: 12px 0;">

                        <div class="dropdown">
                            <!-- openAlignmentMenu(null); -->
                            <img class="textToolHover" tooltip="Alignment" (click)="alignMenu()" id="alignIcon" class="dropbtn"
                                src="assets/icons/text tool/txt_leftalign.svg">
                            <div id="alignmentMenu" class="dropdown-alignment">
                                <a class="dropdown-item" href="javascript:void(0)" (click)="updateFont('justifyleft','Align')">
                                    <img tooltip="Left" src="assets/icons/text tool/txt_rightalign.svg">
                                    Left</a>
                                <a class="dropdown-item" href="javascript:void(0)" (click)="updateFont('justifyright','Align')"> <img tooltip="Left"
                                        src="assets/icons/text tool/txt_rightalign.svg">Right</a>
                                <a class="dropdown-item" href="javascript:void(0)" (click)="updateFont('justifycenter','Align')"> <img tooltip="Left"
                                        src="assets/icons/text tool/txt_centeralign.svg">Center</a>
                            </div>
                        </div>
                        <!-- <img tooltip="Alignment" (click)="openAlignmentMenu(null)" id="alignIcon" src="assets/icons/text tool/txt_leftalign.svg"> -->
                        <img class="textToolHover" tooltip="Bullets" id="bullets" (click)="updateFont('OrderedList','Bullets');addRemoveActiveClass($event,'numbering')"
                            src="assets/icons/text tool/ic_txtbullet.svg">
                        <img class="textToolHover" tooltip="Numbering" id="numbering" (click)="updateFont('UnOrderedList','Number');addRemoveActiveClass($event,'bullets')"
                            src="assets/icons/text tool/ic_txtnumber.svg">
                        <img class="textToolHover" tooltip="Decrease Indent" (click)="updateFont('Indent','Decrease Indent')"
                            src="assets/icons/text tool/ic_txtparout.svg">
                        <img class="textToolHover" tooltip="Increase Indent" (click)="updateFont('Indent','Increase Indent')"
                            src="assets/icons/text tool/ic_txtparin.svg">
                        <img class="textToolHover" tooltip="Strikethrough" (click)="updateFont('Strike','Strikethrough');addRemoveActiveClass($event)"
                            src="assets/icons/text tool/ic_txtstripe.svg">
                        <img class="textToolHover" tooltip="Remove Formatting" (click)="updateFont('UnFormat','UnFormat')"
                            src="assets/icons/text tool/ic_txtunformat.svg">
                    </div>
                    <!-- <span id="fontColorLight" class="dot"
                            >hfg </span> -->
                    <div class="font-size" style="width: 94.44%;margin: 12px 0;">
                        <h2>
                            Character spacing
                        </h2>
                        <ng5-slider   [(value)]="charSpacing" [options]="charSpacingOptions"
                            (mouseup)="updateFont(null,'CharSpacing')"></ng5-slider>
                        <p id="fontSize">{{charSpacing}}</p>
                        <!-- <div class="progress">
                                <div class="progress-bar" style="width:25%"> 
                                </div>
                            </div>
                            <div class="scope">
                                <button class="btn-1"></button>
                                <button class="btn">0.05</button>
                            </div> -->
                    </div>
                    <div class="font-size" style="width: 94.44%;margin: 12px 0;">
                        <h2>
                            Line spacing
                        </h2>
                        <ng5-slider   [(value)]="lineSpacing" [options]="lineSpacingOptions"
                            (mouseup)="updateFont(null,'LineSpacing')"></ng5-slider>
                        <p id="fontSize">{{lineSpacing}}</p>
                        <!-- <div class="progress">
                                <div class="progress-bar" style="width:25%"> 
                                </div>
                            </div>
                            <div class="scope">
                                <button class="btn-1"></button>
                                <button class="btn">auto</button>
                            </div> -->
                    </div>
                    <div class="font-size" style="width: 94.44%;margin: 12px 0;">
                        <span style="color: #005aff; cursor: pointer;" (click)="openAddDynamicValuesModal('Open');">+ Add Dynamic Value </span>
                    </div>
                    
                </div>
                <!-- logo editor options -->
                <div *ngIf="activeSB == 'AddLogo'" class="list2 scroll sp emailbuilderSidebar"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg" style="cursor: pointer;" (click)="toggleToSBList()">
                    <h3 class="add-2">ADD ELEMENTS</h3>
                    <h2>EDIT LOGO</h2>

                    <!-- section for image upload -->

                    <div class="setting__image pad-quiz-e" (click)="onImageUploadClick('Logo')">

                        <div id="drop_zone">

                            <h3>Upload IMAGE</h3>

                            <app-upload-file [module]="configure" (file)="onFileUpload($event)"></app-upload-file>
                        </div>
                    </div>
                    <div class="onoffswitch">
                        <h3>Logo Link</h3>
                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="showLinkOnOffswitch"
                            (change)="onOfLink($event)">
                        <label class="onoffswitch-label" for="myonoffswitch" (click)="onOfLink($event)">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>
                    <div class="url" *ngIf="addLinkToImage == true">
                        <input id="url" placeholder="Enter the URL link" name="logoLinkTo"
                            [(ngModel)]="tagBeingEdited.linkUrl" (blur)="changeImage('Link',null)">
                        <!-- <button type="submit" *ngIf="linkAdded == false" class="btn apply"
                            (click)="changeImage('Link',null)">Create Link</button>
                        <button type="submit" *ngIf="linkAdded == true" class="btn apply"
                            (click)="changeImage('Remove Link',null)">Remove Link</button> -->
                    </div>

                    <div class="url">
                        <h3>Alt Text</h3>
                        <input id="url" placeholder="Add alt text" name="logoAltText"
                            [(ngModel)]="tagBeingEdited.altText" (change)="changeImage('AltText',$event)">

                    </div>

                    <div class="img-alig">
                        <h3>Logo Alignment</h3>
                        <label class="alig-label activeImageAlign" for="alig-label" id="imageAlignLeft"
                            (click)="changeImageAlignment($event,'Left')">
                            <label class="alig"></label>
                        </label>
                        <label class="alig-label" for="alig-label" style="text-align: center;" id="imageAlignCenter"
                            (click)="changeImageAlignment($event,'Center')">
                            <label class="alig"></label>
                        </label>
                        <label class="alig-label" for="alig-label" style="text-align: right; padding-right: 2%;"
                            (click)="changeImageAlignment($event,'Right')" id="imageAlignRight">
                            <label class="alig"></label>
                        </label>
                    </div>

                    <div class="bar">
                        <h3>Vertical Spacing</h3>
                        <form>
                            <div>
                                <ng5-slider   [(value)]="verticalSpacing" [options]="verticalSpacingOptions"
                                    (mouseup)="changeImage('VerticalSpacing',null)"></ng5-slider>
                                <input name="logoSpacing" [(ngModel)]="verticalSpacing"
                                    style="width: 40px;height: auto;margin-top: auto !important;margin-left: 10px !important;
                                    text-align: center;"
                                    (ngModelChange)="changeImage('VerticalSpacing',null)" />
                                <!-- <h4 class="px-2">{{verticalSpacing}}</h4>px -->

                            </div>
                        </form>


                    </div>
                    <div class="bar">
                        <h3>Logo Size</h3>
                        <form>
                            <div>
                                <ng5-slider   [(value)]="imageWidth" [options]="imageWidthOptions"
                                    (mouseup)="changeImage('ImageWidth',null)"></ng5-slider>
                                <input name="logoWidth" [(ngModel)]="imageWidth"
                                    style="width: 40px;height: auto;margin-top: auto !important;margin-left: 10px !important;
                                    text-align: center;"
                                    (ngModelChange)="changeImage('ImageWidth',null)" />
                            </div>
                        </form>
                    </div>

                </div>

                <!-- imaged editor options -->
                <div *ngIf="activeSB == 'AddImage'" class="list2 list-3 scroll sp emailbuilderSidebar"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg" style="cursor: pointer;" (click)="toggleToSBList()">
                    <h3 class="add-2">ADD ELEMENTS</h3>‏
                    <h2>EDIT IMAGE</h2>
                    <!-- section for image upload -->
                    <div class="setting__image pad-quiz-e" (click)="onImageUploadClick()">

                        <div id="drop_zone">

                            <h3>Upload IMAGE</h3>

                            <app-upload-file [module]="configure" (file)="onFileUpload($event)"></app-upload-file>
                        </div>
                    </div>

                    <div class="onoffswitch">
                        <h3>IMAGE Link</h3>
                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="showLinkOnOffswitch"
                            (change)="onOfLink($event)">
                        <label class="onoffswitch-label" for="myonoffswitch" (click)="onOfLink($event)">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>

                    <div class="url" *ngIf="addLinkToImage == true">
                        <input id="url" placeholder="Enter the URL link" name="ImageLinkTo"
                            [(ngModel)]="tagBeingEdited.linkUrl" (blur)="changeImage('Link',null)">
                    </div>
                    <div class="url">
                        <h3>Alt Text</h3>
                        <input id="url" placeholder="Add alt text" name="ImageAtlText"
                            [(ngModel)]="tagBeingEdited.altText" (change)="changeImage('AltText',$event)">

                    </div>
                    <div class="img-alig" *ngIf="tagBeingEdited.subTag == false">
                        <h3>Image Alignment</h3>
                        <label class="alig-label activeImageAlign" for="alig-label" id="imageAlignLeft"
                            (click)="changeImageAlignment($event,'Left')">
                            <label class="alig"></label>
                        </label>
                        <label class="alig-label" for="alig-label" style="text-align: center;" id="imageAlignCenter"
                            (click)="changeImageAlignment($event,'Center')">
                            <label class="alig"></label>
                        </label>
                        <label class="alig-label" for="alig-label" style="text-align: right; padding-right: 2%;" id="imageAlignRight"
                            (click)="changeImageAlignment($event,'Right')">
                            <label class="alig"></label>
                        </label>
                    </div>

                    <div class="bar" *ngIf="tagBeingEdited.subTag == false">
                        <h3>Vertical Spacing</h3>
                        <form>
                            <div>
                                <ng5-slider   [(value)]="verticalSpacing" [options]="verticalSpacingOptions"
                                    (mouseup)="changeImage('VerticalSpacing',null)"></ng5-slider>
                                <input name="imageSpacing" [(ngModel)]="verticalSpacing"
                                    style="width: 40px;height: auto;margin-top: auto !important;margin-left: 10px !important;
                                    text-align: center;"
                                    (ngModelChange)="changeImage('VerticalSpacing',null)" />

                            </div>
                        </form>
                    </div>
                    <div class="bar" *ngIf="tagBeingEdited.subTag == false">
                        <h3>Image Size</h3>
                        <form>
                            <div>
                                <ng5-slider   [(value)]="imageWidth" [options]="imageWidthOptions"
                                    (mouseup)="changeImage('ImageWidth',null)"></ng5-slider>
                                <input name="imageWidth" [(ngModel)]="imageWidth"
                                    style="width: 40px;height: auto;margin-top: auto !important;margin-left: 10px !important;
                                    text-align: center;"
                                    (ngModelChange)="changeImage('ImageWidth',null)" />
                            </div>
                        </form>
                    </div>

                </div>

                <!-- column editor options -->
                <div *ngIf="activeSB == 'AddColumn'" class="list2 list4 scroll sp emailbuilderSidebar"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg" style="cursor: pointer;" (click)="toggleToSBList()">
                    <h3 class="add-2">ADD ELEMENTS</h3>‏

                    <h2>COLUMN</h2>
                    <div class="alboum">
                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==1}"
                            (click)="setActiveColumn(1);setActiveSB(1)">
                            <img src="./assets/icons/ic_columnvar1.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==2}"
                            (click)="setActiveColumn(2);setActiveSB(2)">
                            <img src="./assets/icons/ic_columnvar2.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==3}"
                            (click)="setActiveColumn(3);setActiveSB(3)">
                            <img src="./assets/icons/ic_columnvar3.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==4}"
                            (click)="setActiveColumn(4);setActiveSB(4);">
                            <img src="./assets/icons/ic_columnvar4.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==5}"
                            (click)="setActiveColumn(5);setActiveSB(5);">
                            <img src="./assets/icons/ic_columnvar5.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==6}"
                            (click)="setActiveColumn(6);setActiveSB(6)">
                            <img src="./assets/icons/ic_columnvar6.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==7}"
                            (click)="setActiveColumn(7);setActiveSB(7)">
                            <img src="./assets/icons/ic_columnvar7.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>
                        <label class="img text-center" [ngClass]="{ 'active':activeColumn==8}"
                            (click)="setActiveColumn(8);setActiveSB(8)">
                            <img src="./assets/icons/ic_columnvar8.svg">
                            <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                        </label>

                    </div>
                </div>
                <div *ngIf="activeSB == 'AddButton'" class="list5 add-element-text list14 scroll sp emailbuilderSidebar"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg"
                        style="cursor: pointer; max-width: 6px !important; max-height: 9px !important;"
                        (click)="toggleToSBList()">
                    <h3 style="font-size: 12px; display: inline; padding-left: 5px;" class="add-2">ADD ELEMENTS</h3>
                    <!-- <h2>EDIT BUTTON</h2> -->
                    <div id="swapp">
                        <ul class="nav nav-pills">
                            <li id="content">
                                <a href="javascript:void(0)" [ngClass]="{ 'active':activeTab==='1a'}"
                                    (click)="content('1a')" data-toggle="tab" class="active">Content</a>
                            </li>
                            <li id="design">
                                <a href="javascript:void(0)" [ngClass]="{ 'active':activeTab==='2a'}"
                                    (click)="design('2a')" data-toggle="tab">Design</a>
                            </li>
                        </ul>
                        <div class="tab-content clearfix">
                            <div class="tab-pane active" id="1a" [ngClass]="{ 'active':activeTab==='1a'}" style="overflow: hidden;">
                                <div id="content-body">
                                    <form>
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Button label</label>
                                            <input type="text" maxlength="10" class="form-control"
                                                id="exampleInputEmail1" aria-describedby="emailHelp"
                                                placeholder="Enter email" name="buttonLable"
                                                [(ngModel)]="tagBeingEdited.text">

                                        </div>
                                    </form>

                                    <label>Button link</label>
                                    <form class="radio">
                                        <ul class="nav nav-pills">
                                            <li class="nav-item">
                                                <a href="#1b" data-toggle="tab" class="active"
                                                    [ngClass]="{ 'active':activeTab==='1b'}">
                                                    <label class="radio-inline ">
                                                        <input type="radio" (focus)="activeradiobtn('1b')" name="optradio" class="regular-checkbox"
                                                            id="radio-1b" checked>Website URL
                                                    </label>
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="#2b" data-toggle="tab"
                                                    [ngClass]="{ 'active':activeTab==='2b'}">
                                                    <label class="radio-inline ">
                                                        <input type="radio" (focus)="activeradiobtn('2b')" name="optradio" class="regular-checkbox"
                                                            id="radio-2b">Files
                                                    </label>
                                                </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content " id="file">
                                            <div class="tab-pane active" id="2b"
                                                [ngClass]="{ 'active':activeradio==='2b'}">
                                                <div *ngIf="tagBeingEdited.buttonFile != null">
                                                    <img id="fileTypeImage" src="assets/icons/ic_doc.svg"
                                                    style="width: 40% !important;height: 30% !important;">
                                                    <span>{{pdfSrc}}</span>
                                                    <span style="display: inherit;
                                                    margin-left: 33px;
                                                    color: #0b8b8c;
                                                    cursor: pointer;"  (click)="openSelectFileModel('File')">Change File</span>
                                                </div>
                                                <button  *ngIf="tagBeingEdited.buttonFile == null" class="btn file" (click)="openSelectFileModel('File')">Add File
                                                </button>
                                            </div>

                                            <div class="tab-pane" id="1b" id="url"
                                                [ngClass]="{ 'active':activeradio==='1b'}">
                                                <input type="text" class="url" placeholder="www.zuuba.com"
                                                    name="buttonFile" [(ngModel)]="tagBeingEdited.buttonUrl"
                                                    (keyup)="changeButtonText($event,'URL')">
                                            </div>
                                        </div>
                                    </form>

                                </div>
                            </div>
                            <div class="tab-pane" id="2a" [ngClass]="{ 'active':activeTab==='2a'}" style="height: auto; overflow: hidden;">
                                <div id="content-body">
                                    <div class="fonts">
                                        <h2 style="margin-top: 6px;">Fonts</h2>
                                        <label>
                                            <select (change)="updateButtonStyle($event,'Font Style')" [(ngModel)]="selectedFont"> 
                                                <option *ngFor="let font of fontList" value={{font}}
                                                    [ngStyle]="{'font-family': font}">{{font}} </option>
                                            </select>
                                        </label>
                                    </div>
                                    <div class="color5" style="margin-bottom: 0px;">
                                        <h3>Text Color</h3>
                                        <div class="stroke">
                                            <button type="button" class="btn cicle" (click)="showColorPickerPosition($event)"
                                             [cpOutputFormat]="'hex'"
                                                [style.background]="buttonTextColor" 
                                                [(colorPicker)]="buttonTextColor"
                                                (cpInputChange)="changeButtonColor('cpInputChange','TextColor')"
                                                (cpSliderDragEnd)="changeButtonColor('cpSliderDragEnd','TextColor')"
                                                (colorPickerClose)="closingColorPicker()">
                                            </button>
                                        </div>
                                    </div>
                                    <div class="color5" style="margin-bottom: 0px;">
                                        <h3>Fill Color</h3>
                                        <div class="stroke">
                                            <button type="button" class="btn cicle" [style.background]="buttonColor"
                                            (click)="showColorPickerPosition($event)"
                                             [cpOutputFormat]="'hex'"
                                                [(colorPicker)]="buttonColor"
                                                (cpInputChange)="changeButtonColor('cpInputChange','ButtonColor')"
                                                (cpSliderDragEnd)="changeButtonColor('cpSliderDragEnd','ButtonColor')">
                                            </button>
                                        </div>
                                    </div>
                                    <div class="fonts">
                                        <h2>Border Width</h2>
                                        <label>
                                            <ng5-slider   [(value)]="borderWidth" [options]="buttonBorderOptions"
                                                (mouseup)="changeButtonColor(null,'BorderWidth')"></ng5-slider>
                                            <p id="fontSize">{{borderWidth}}px</p>
                                        </label>
                                    </div>
                                    <div class="color5" style="margin-bottom: 0px;">
                                        <h3>Border Color</h3>
                                        <div class="stroke">
                                            <button type="button" class="btn cicle" [style.background]="borderColor"
                                            (click)="showColorPickerPosition($event)"
                                             [cpOutputFormat]="'hex'"
                                                [(colorPicker)]="borderColor"
                                                (cpInputChange)="changeButtonColor('cpInputChange','BorderColor')"
                                                (cpSliderDragEnd)="changeButtonColor('cpSliderDragEnd','BorderColor')">
                                            </button>
                                        </div>
                                    </div>
                                    <div class="color5" *ngIf="tagBeingEdited.subTag == false">
                                        <h3>Button Alignment</h3>
                                        <label class="button-alig-label " for="alig-label" id="buttonAlignLeft"
                                            (click)="updateButtonStyle($event,'Align Left')">
                                            <label class="button-alig"></label>
                                        </label>
                                        <label class="button-alig-label activeImageAlign" for="alig-label" id="buttonAlignCenter"
                                            style="text-align: center;"
                                            (click)="updateButtonStyle($event,'Align Center')">
                                            <label class="button-alig"></label>
                                        </label>
                                        <label class="button-alig-label" for="alig-label" id="buttonAlignRight"
                                            style="text-align: right; padding-right: 2%;margin-right: 0px;"
                                            (click)="updateButtonStyle($event,'Align Right')">
                                            <label class="button-alig"></label>
                                        </label>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>

                </div>

                <div *ngIf="activeSB == 'AddSpacer'" class="list2 list5 sp"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg" style="cursor: pointer;" (click)="toggleToSBList()">
                    <h3 class="add-2">ADD ELEMENTS</h3>‏
                    
                    <h2>EDIT SPACER</h2>
                    <div id="swapp" style="margin-top: 7px;">
                    <ul class="nav nav-tabs" style="padding: 0px 2%;">
                        <li id="spacer_style" class="active" style="width: 50%;
                        text-align: center;">
                            <a href="#sStyle" data-toggle="tab" [ngClass]="{ 'active':activeTab==='sStyle'}"
                                (click)="spacerTab('sStyle')">Style</a>
                        </li>
                        <li id="spacer_design" style="width: 50%;
                        text-align: center;">
                            <a href="#sDesign" data-toggle="tab" [ngClass]="{ 'active':activeTab==='sDesign'}"
                            (click)="spacerTab('sDesign')">Design</a>
                        </li>
                    </ul>
                    <div class="tab-content clearfix scroll"  [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '350px' : '260px'}" >
                        <div class="tab-pane active" style="height: auto;overflow: hidden;padding-bottom: 36px;" id="sStyle" [ngClass]="{ 'active':activeTab==='sStyle'}">
                            <div class="alboum">
                                <div class="img text-center spacerIconDiv" style="margin: 2px;" *ngFor="let line of dividerLine" 
                                (click)="updateSpacer('Image',line);setActiveSpacer(line.id)" [ngClass]="{ 'active':activeSpacer == line.id}">
                                     <div class="my-icon" aria-label="My icon" style="stroke: black;" [inlineSVG]="line.image"></div>
                                    <!-- <img id=dividerImage{{line.id}}  style="width: 50%;height:auto !important;max-width: 100% !important;" src={{line.image}}> -->
                                    <img src="./assets/icons/ic_checkmark_on.svg" class="h">
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="sDesign" style="height: auto;overflow: hidden;padding-bottom: 36px;" [ngClass]="{ 'active':activeTab==='sDesign'}">
                            <div id="content-body">
                                <div class="list2 list4 list5 list12 ">
                                    <div class="bar">
                                        <h3>Height</h3>
                                        <ng5-slider   [(value)]="sHeight" [options]="sOptions" (mouseup)="updateSpacer('height')">
                                        </ng5-slider>
                                        <input id="sHeight" [(ngModel)]="sHeight" maxlength="3"
                                            style="width: 40px;height: auto;margin-top: auto !important;margin-left: 5px !important;
                                            text-align: center;"
                                            (ngModelChange)="validateSliderValue('sHeight',sOptions);updateSpacer('height');" />
                                    </div>
                
                                    <div class="onoffswitch">
                                        <h3>Display Line</h3>
                                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch"
                                            checked (change)="updateSpacer('display', $event);">
                                        <label class="onoffswitch-label" for="myonoffswitch">
                                            <span class="onoffswitch-inner"></span>
                                            <span class="onoffswitch-switch"></span>
                                        </label>
                                    </div>
                
                                    <div class="bar" *ngIf="selectedSpacerLine.dividerType != 'Image'">
                                        <h3>Width</h3>
                                        <ng5-slider   [(value)]="sWidth" [options]="sOptions" (mouseup)="updateSpacer('width');">
                                        </ng5-slider>
                                        <input id="sWidth" [(ngModel)]="sWidth"
                                            style="width: 40px;height: auto;margin-top: auto !important;margin-left: 5px !important;
                                            text-align: center;"
                                            (ngModelChange)="validateSliderValue('sWidth',sOptions);updateSpacer('width');" />
                                    </div>
                
                                    <div class="bar" *ngIf="selectedSpacerLine.dividerType != 'Image'">
                                        <h3>Stroke</h3>
                                        <ng5-slider   [(value)]="sStroke" [options]="sStrOptions" (mouseup)="updateSpacer('stroke');">
                                        </ng5-slider>
                                        <input id="sStroke" [(ngModel)]="sStroke"
                                            style="width: 40px;height: auto;margin-top: auto !important;margin-left: 5px !important;
                                            text-align: center;"
                                            (ngModelChange)="validateSliderValue('sStroke',sStrOptions);updateSpacer('stroke');" />
                                    </div>
                
                                    <div class="color5">
                                        <h3>Color</h3>
                                        <span class="swatch colorPicker dot" [style.background]="color" [(colorPicker)]="color"
                                        (click)="showColorPickerPosition($event)" style="width: 24px !important;"
                                             [cpOutputFormat]="'hex'"
                                            (cpInputChange)="onEventLog('cpInputChange', color)"  [cpPosition]="'top'" [cpPositionOffset]="'50%'" [cpPositionRelativeToArrow]="'false'"
                                            (cpSliderDragEnd)="onEventLog('cpSliderDragEnd', color)"
                                            [cpOKButton]="true" [cpCancelButton]="true" >
                                        </span>
                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>

                <div *ngIf="activeSB == 'AddFooter'" class="list2 scroll sp emailbuilderSidebar"
                [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '55vh'}">
                    <img src="assets/icons/ic_back.svg" style="cursor: pointer;" (click)="toggleToSBList()">
                    <h3 class="add-2 footer-settings">Footer Settings</h3>
                    <h2>EDIT FOOTER</h2>
                    <div>

                        <div class="onoffswitch">
                            <h3>Show Address</h3>
                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"
                                id="myonoffswitch" checked (change)="footerOnOffButton($event,'Address')">
                            <label class="onoffswitch-label" for="myonoffswitch">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>

                        <div class="url" *ngIf="showAddress == true">
                            <input placeholder="Enter address here" name="footerAddress"
                                [(ngModel)]="footerTag.address">
                        </div>
                        <div class="onoffswitch">
                            <h3>Show Phone Number</h3>
                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"
                                id="myonoffswitch2" checked>
                            <label class="onoffswitch-label" for="myonoffswitch2">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>

                        <div class="url" *ngIf="showPhoneNumber == true">
                            <input placeholder="Enter your phone number" name="footerPhoneNumber"
                                [(ngModel)]="footerTag.phoneNumber">
                        </div>
                        <div class="onoffswitch onoffswitch2">
                            <h3>Share Via</h3>
                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"
                                id="myonoffswitch3" checked (change)="footerOnOffButton($event,'Share')">
                            <label class="onoffswitch-label" for="myonoffswitch3">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                            <div *ngIf="showShareVia == true">
                                <label class="container">
                                    <img src="assets/icons/pinterest.svg">
                                    <span class="text">Pinterest</span>
                                    <input type="checkbox" checked (change)="footerOnOffButton($event,'Pinterest')">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="container">
                                    <img src="assets/icons/share-fb.svg">
                                    <span class="text">Facebook</span>
                                    <input type="checkbox" checked (change)="footerOnOffButton($event,'Facebook')">
                                    <span class="checkmark"></span>
                                </label>
                                <label class="container container-end">
                                    <img src="assets/icons/share-tw.svg">
                                    <span class="text">Twitter</span>
                                    <input type="checkbox" checked (change)="footerOnOffButton($event,'Twitter')">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                        <div class="onoffswitch">
                            <h3>Add a Link to Your Site</h3>
                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"
                                id="myonoffswitch4" checked (change)="footerOnOffButton($event,'AddUrl')">
                            <label class="onoffswitch-label" for="myonoffswitch4">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>

                        <div class="url" *ngIf="showAddUrl == true">
                            <input placeholder="Enter link title" name="footerlinkTitle"
                                [(ngModel)]="footerTag.linkTitle">
                            <input placeholder="Enter link URL" name="footerlinkUrl"
                                [(ngModel)]="footerTag.linkUrl">
                        </div>
                    </div>
                </div>
                <div *ngIf="activeSB == 'background'" class="list2 list4 list5 list12 sp ">
                    <!-- style="height: 75vh !important;overflow-y: scroll !important;" -->
                    <!-- <img src="assets/icons/ic_back.svg" style="cursor: pointer;"
                        (click)="toggleToSBList();saveBackgrounds();"> -->
                    <h2>EDIT BACKGROUND</h2>
                    <div id="editBackground" style="display: none;">
                        <img src="assets/icons/ic_back.svg" style="cursor: pointer;"
                            (click)="editBackgroundImage()">
                        <h2 style="display: inline-block;margin-left: 2px;">Background</h2>
                        <div class="bar">
                            <div class="color5">
                                <h3>Color Scheme</h3>
                                <div class="stroke">
                                    <button type="button" class="btn cicle" (click)="showColorPickerPosition($event)"
                                        [cpOutputFormat]="'hex'"
                                        [style.background]="backgroundImageColor" 
                                        [(colorPicker)]="backgroundImageColor"
                                        (cpInputChange)="changeBackGroundColor('emailTemplateWindow','BackGround Image')"
                                        (cpSliderDragEnd)="changeBackGroundColor('emailTemplateWindow','BackGround Image')">
                                    </button>
                                    <!-- <button type="button" class="btn cicle"
                                        [style.background]="backgroundImageColor"
                                        (click)="showColorPickerPosition($event)"
                                             [cpOutputFormat]="'hex'"
                                        [(colorPicker)]="backgroundImageColor"
                                        (cpInputChange)="changeBackGroundColor('emailTemplateWindow','BackGround Image')"
                                        (cpSliderDragEnd)="changeBackGroundColor('emailTemplateWindow','BackGround Image')"
                                        [cpOKButton]="true" [cpCancelButton]="true">
                                    </button> -->
                                    <button type="button" style="border: none;" class="btn text">Email Background</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="swapp" *ngIf="activeSB == 'background'" [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '75vh' : '60vh'}">
                    <ul class="nav nav-tabs" style="padding: 0%;">
                        <li id="main_background" class="active" style="width: 50%;">
                            <a href="#1a" data-toggle="tab" [ngClass]="{ 'active':activeTab==='1a'}"
                                (click)="mainbackground('1a')">Main Background</a>
                        </li>
                        <li id="inner_background" style="width: 50%;">
                            <a href="#2a" data-toggle="tab" [ngClass]="{ 'active':activeTab==='2a'}"
                                (click)="innerbackground('2a')">Inner Background</a>
                        </li>
                    </ul>
                    <div class="tab-content clearfix scroll">
                        <div class="tab-pane active" style="height: auto;overflow: hidden;padding-bottom: 36px;" id="1a" [ngClass]="{ 'active':activeTab==='1a'}">
                            <div id="content-body">
                                <div class="list2 list4 list5 list12 ">
                                    <div class="color5">
                                        <h3>Color Scheme</h3>
                                        <div class="stroke">
                                            <button type="button" class="btn cicle" (click)="showColorPickerPosition($event)"
                                             [cpOutputFormat]="'hex'"
                                                [style.background]="emailBackgroundColor" 
                                                [(colorPicker)]="emailBackgroundColor"
                                                (cpInputChange)="changeBackGroundColor('emailTemplateWindow','BackGround')"
                                                (cpSliderDragEnd)="changeBackGroundColor('emailTemplateWindow','BackGround', 'SLIDER ENDED')"
                                                (colorPickerClose)="changeBackGroundColor('emailTemplateWindow','CloseWindow')">
                                            </button>
                                            <button type="button" class="btn text" style="border: none;">Email Background</button>
                                        </div>
                                        <h3>Pattern & Image</h3>
                                        <button type="button" class="btn pattern"
                                            (click)="openSelectFileModel('Image', 'BackGround Pattern')">Upload New
                                            Pattern</button>
                                        <hr>
                                        <span>OR</span>
                                        <hr>

                                    </div>
                                    <div class="alboum alboum12">
                                        <label *ngFor="let patt of backgroundPattern"
                                            class="img text-center bckroundImg" id=backgroundImage{{patt.id}}
                                            (click)="changeBackGroundImage(patt)">
                                            <img src={{patt.imagePath}}>
                                            <img src="assets/icons/ic_checkmark_on.svg" class="h">
                                            <button *ngIf="backgroundSelected == patt.id && patt.mainUser == null" class="H" (click)="editBackgroundImage()">Edit
                                                background</button>
                                        </label>


                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="2a" [ngClass]="{ 'active':activeTab==='2a'}">
                            <div id="content-body">
                                <div class="list2 list4 list5 list12 ">
                                    <div class="onoffswitch">
                                        <h3>Show Background Color</h3>
                                        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox"
                                            id="myonoffswitch" checked
                                            (change)="changeBackGroundColor('emailTemplateInnerWindow',$event)">
                                        <label class="onoffswitch-label" for="myonoffswitch">
                                            <span class="onoffswitch-inner"></span>
                                            <span class="onoffswitch-switch"></span>
                                        </label>
                                    </div>
                                    <div class="color5">
                                        <h3>Color Scheme</h3>
                                        <div class="stroke">
                                            <button type="button" class="btn cicle"
                                                [style.background]="innerEmailBackgroundColor"
                                                [(colorPicker)]="innerEmailBackgroundColor"
                                                (click)="showColorPickerPosition($event)"
                                                [cpOutputFormat]="'hex'"
                                                (cpInputChange)="changeBackGroundColor('emailTemplateInnerWindow','BackGround')"
                                                (cpSliderDragEnd)="changeBackGroundColor('emailTemplateInnerWindow','BackGround')"
                                                (colorPickerClose)="changeBackGroundColor('emailTemplateInnerWindow','CloseWindow')">

                                            </button>
                                            <button type="button" style="border:none" class="btn text">Email Background</button>
                                        </div>
                                    </div>
                                    <div class="bar">
                                        <h3>Border Width</h3>
                                        <form>
                                            <div>
                                                <ng5-slider   [(value)]="innerEmailBorderSize"
                                                    [options]="innerEmailBorderSizeOptions"
                                                    (mouseup)="changeBackGroundColor('emailTemplateInnerWindow','BorderWidth')"
                                                    (blur)="changeBackGroundColor('emailTemplateInnerWindow','CloseWindow')">
                                                </ng5-slider>
                                                <input [(ngModel)]="innerEmailBorderSize" name="emailBorderSize"
                                                    maxlength="3"
                                                    style="width: 40px;height: auto;margin-top: auto !important;text-align: center;margin-left: 10px !important;"
                                                    (ngModelChange)="validateSliderValue('innerEmailBorderSize',innerEmailBorderSizeOptions);changeBackGroundColor('emailTemplateInnerWindow','BorderWidth');"
                                                    (blur)="changeBackGroundColor('emailTemplateInnerWindow','CloseWindow')" />
                                            </div>
                                        </form>
                                    </div>
                                    <div class="color5">
                                        <h3>Color</h3>
                                        <div class="stroke">
                                            <button type="button" class="btn cicle"
                                                [style.background]="innerEmailBorderColor"
                                                [(colorPicker)]="innerEmailBorderColor"
                                                (click)="showColorPickerPosition($event)"
                                                [cpOutputFormat]="'hex'"
                                                (cpInputChange)="changeBackGroundColor('emailTemplateInnerWindow','Border')"
                                                (cpSliderDragEnd)="changeBackGroundColor('emailTemplateInnerWindow','Border')"
                                                (colorPickerClose)="changeBackGroundColor('emailTemplateInnerWindow','CloseWindow')">
                                            </button>
                                            <button type="button" style="border:none"  class="btn text">Border color</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div *ngIf="activeSB == 'themes'" class="list2 list5 list11">
                    <h2>SELECT THEME</h2>
                </div>
                <ul *ngIf="activeSB == 'themes'" style="padding: 0;" [ngStyle]="{'height': emailCampaignData.emailCampaignType.id == 1 ? '70vh' : '60vh'}"
                 class="list2 list5 list11 scroll nav nav-tabs sp emailbuilderSidebar"
                >
                    <li style="margin-top: 10px;" class=defaultTheme{{emailTemplateName.templateName}} *ngIf="emailTemplate.emailTemplate.templateName != 'Default1'"   [ngClass]="{'active': emailTemplate.emailTheme.id == defaultTheme.id}" 
                    (click)="activelable(defaultTheme.themeName,defaultTheme.id)" >
                        <img src="./assets/icons/ic_checkmark_on.svg" class="h ">
                        Default
                    </li>
                    <li *ngFor="let theme of emailThemes"  class={{theme.className}}  [ngClass]="{'active': emailTemplate.emailTheme.id == theme.id}"
                    (click)="activelable(theme.className,theme.id)">

                        <img src="./assets/icons/ic_checkmark_on.svg" class="h ">
                        {{theme.themeName}}

                    </li>
                </ul>


                <div *ngIf="activeSB" class="footer" style="height: 100px;width: 100%;">
                    <button type="submit" class="btn cancel" *ngIf="activeSB != 'background' && activeSB != 'themes'" (click)="onCancelElEffects();">Cancel</button>
                    <button type="submit" class="btn apply" *ngIf="activeSB !='background' && tagBeingEdited.id"
                        (click)="savePreviouslyFocusedElement('Apply')">Apply</button>
                    <button type="submit" class="btn apply" *ngIf="activeSB=='AddColumn' && !tagBeingEdited.id"
                        (click)="savePreviouslyFocusedElement('AddingNewElement', true)">Apply</button>
                    
                </div>
            </div>
            <!-- end  sidepar -->

            <!-- start  main-content -->
            <!-- <div class="col-lg-9 main-content  main-content2" id="emailTemplateWindow" style="position: relative;left: 25.5%;"> -->
            <div class="col-lg-9 main-content main-content2" detect-scroll (onScroll)="moveBackgroundImageWithScroll($event)" id="emailTemplateWindow" style="position: relative;left: 25.5%; overflow: scroll;
                        max-height: 80vh;">
                <div style="width: 100%; text-align: center; margin-top: 30px;">
                    <div style="width: 58.02%;display: inline-block;margin-left: 6%;background-color: white;
                        text-align: justify;box-shadow: 0px 3px 6px #00000029 !important;">
                        <div style="padding: 10px;">
                            <span id="preHeaderSubject"><b> {{subject}} </b></span>
                            <span style="display: none;" id="preHeaderEmailFrom">email From &nbsp;&nbsp;&nbsp;
                                <b>{{emailCampaignData.fromName}} &lt; {{emailCampaignData.fromEmail}} &gt; </b></span>
                            <img id="openPreheaderDiv" (click)="openPreheaderDiv();"
                                style="float: right;width: 9px; color: #707070;" src="./assets/icons/arrow-down.svg"
                                alt="">
                        </div>
                        <div id="subjectPreheaderDiv" style="display: none;">
                            <table style="width:100%;">
                                <tbody>
                                    <tr>
                                        <th>Email Subject</th>
                                        <td><input class="preHeaderInput" type="text"
                                                [(ngModel)]="emailTemplate.emailSubject"
                                                (blur)="saveEmailTempelateTitle('Email Subject')"
                                                placeholder="Add a subject here"></td>
                                    </tr>
                                    <tr>
                                        <th>Email pre header</th>
                                        <td><input class="preHeaderInput" type="text"
                                                [(ngModel)]="emailTemplate.emailPreHeader"
                                                (blur)="saveEmailTempelateTitle('Email Header')"
                                                placeholder="Add pre header here"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- <div style="padding: 10px;">
                                <span><b>Email Subject</b></span> 
                                
                            </div> 
                            <div style="padding: 10px;">
                                    <span><b>Email pre header</b></span> 
                                    
                            </div>  -->
                    </div>
                </div>
                <div class="content text-center" style="margin-top: 30px;" id="emailTemplateInnerWindow">
                    <!-- Logo -->
                    <div (click)="onEditorItemClick(logoTag);onInputText(logoTag);" id={{logoTag.tagId}}>
                        <ng-container *ngIf="logoTag.tag=='logo'">
                            <div (mouseover)="showHoverBorder(logoTag)" (mouseleave)="removeHoverBorder()"
                                [ngClass]="{'activeImageBorder': tagBeingEdited.tag=='logo' || showBorder == logoTag.tagId}"
                                style="border: 1px solid transparent;">
                                <!-- *ngIf="tagBeingEdited.tag=='logo' || showBorder == logoTag.tagId" -->
                                <div class="groub2" style="margin-top: -2%;position: absolute;margin-left: 50%;"
                                [ngClass]="{'hidden': tagBeingEdited.tag!='logo' && showBorder != logoTag.tagId, 'visible': tagBeingEdited.tag=='logo' || showBorder == logoTag.tagId}">
                                    <img class="deleteIcon" (click)="showDeleteText(logoTag)"  id=deleteIcon{{logoTag.tagId}}
                                        style="float: right;" *ngIf="showDeleteButton != logoTag.tagId">
                                    <div id=deleteText{{logoTag.tagId}} 
                                    *ngIf="showDeleteButton == logoTag.tagId"   style="color: red; background: white; border: 1px solid red; padding-right: 5px;"> 
                                        <img class="deleteIconText" (click)="deleteEditorItem(logoTag)" >
                                        <span style="top: 0;bottom: 0;">Delete</span> 
                                    </div>
                                    <img  class="editIcon" [ngClass]="{'hidden': tagBeingEdited.tag === 'logo'}">
                                </div>
                                <div id="image{{logoTag.tagId}}" class="main-img" style="height: 50%;">

                                    <img alt={{logoTag.altText}} src={{logoTag.src}}
                                        style="margin: 2% 0px; width: 50%;">
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <!-- Header/Title   -->
                    <div contenteditable="true" (click)="onEditorItemClick(headerTag);onInputText(headerTag);" (keydown)="onKeydown($event)" (keyup)="storeWindowSelection($event)"
                        id={{headerTag.tagId}} style="border: 1px solid transparent;">
                        <ng-container *ngIf="headerTag.tag=='title'">
                            <div (mouseover)="showHoverBorder(headerTag)" (mouseleave)="removeHoverBorder()"
                                [ngClass]="{'activeImageBorder': tagBeingEdited.tagId === headerTag.tagId || showBorder == headerTag.tagId}"
                                style="border: 1px solid transparent;">

                                <div class="groub2" style="margin-top: -2%;position: absolute;margin-left: 48%;"
                                    *ngIf="tagBeingEdited.tagId === headerTag.tagId || showBorder == headerTag.tagId">
                                    <img  class="editIcon" (click)="editFocus('title', headerTag)" [ngClass]="{'hidden': tagBeingEdited.tagId === headerTag.tagId}">
                                   
                                </div>
                                <div class="first" id=textDiv{{headerTag.tagId}}>
                                    <h1 id=text{{headerTag.tagId}} (mouseup)="storeWindowSelection($event)"
                                        [innerHtml]="headerTag.text | safeInnerHtml"></h1>
                                    <!-- <div *ngIf="emailTemplateName.templateName != 'template1' && emailTemplateName.templateName != 'template2' && emailTemplateName.templateName != 'template4' && emailTemplateName.templateName != 'template5'"  class="spacer-item-title"></div> -->
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <!-- Email Body -->
                    <ngx-sortable [items]="tags" [name]="" (listSorted)="listSorted($event)" [listStyle]="listStyle">
                        <ng-template let-item>
                            <div class="sortable-list-item"
                                (click)="onEditorItemClick(item);onInputText(item);" id={{item.tagId}}>

                                <ng-container *ngIf="item.tag=='text'">
                                    <div contenteditable="true" (mouseover)="showHoverBorder(item)" (keydown)="onKeydown($event)" (keyup)="storeWindowSelection($event)"
                                        (mouseleave)="removeHoverBorder()"
                                        [ngClass]="{'activeBorder': tagBeingEdited.tagId === item.tagId || showBorder == item.tagId }"
                                        style="border: 1px solid transparent;">
                                        <div class="groub2" style="margin-top: -2%;position: absolute;margin-left: 48%;display: flex"
                                        *ngIf="tagBeingEdited.tagId === item.tagId || showBorder == item.tagId" >
                                
                                                <img  class="editIcon" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}"
                                                (click)="editFocus('text', item)" >
                                                <img class="duplicateIcon"  (click)="duplicateItem(item)" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                                <img class="deleteIcon" (click)="showDeleteText(item)"  id=deleteIcon{{item.tagId}}
                                                style="float: right;" *ngIf="showDeleteButton != item.tagId">
                                                <div id=deleteText{{item.tagId}} *ngIf="showDeleteButton == item.tagId" (click)="deleteEditorItem(item)" style="color: red; background: white; border: 1px solid red; padding-right: 5px;"> 
                                                    <img class="deleteIconText">
                                                    <span style="top: 0;bottom: 0;">Delete</span> 
                                                </div>
                                            <!-- <img src="assets/icons/ic_duplicate.svg" 
                                            (click)="duplicateItem(item)"
                                            [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}"
                                            style="height: 50px;"> -->
                                        </div>
                                        <div class="join" id=textDiv{{item.tagId}}>
                                            <p  (mouseup)="storeWindowSelection($event)"
                                                id=text{{item.tagId}} [innerHtml]="item.text | safeInnerHtml">
                                            </p>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="item && item.tag=='divider'">
                                    <div (mouseover)="showHoverBorder(item)" (mouseleave)="removeHoverBorder()"
                                        [ngClass]="{'activeBorder': tagBeingEdited.tagId === item.tagId || showBorder == item.tagId }"
                                        style="border: 1px solid transparent;">
                                        <div class="groub2" style="margin-top: -2%;position: absolute;margin-left: 48%"
                                            *ngIf="tagBeingEdited.tagId === item.tagId || showBorder == item.tagId">
                                            <img class="deleteIcon" (click)="showDeleteText(item)"  id=deleteIcon{{tagBeingEdited.tagId}}
                                                style="float: right; margin: 5px;" *ngIf="showDeleteButton != item.tagId">
                                            <div id=deleteText{{tagBeingEdited.tagId}} (click)="deleteEditorItem(item)" 
                                            *ngIf="showDeleteButton == item.tagId" style="color: red; background: white; border: 1px solid red; padding-right: 5px;"> 
                                                <img class="deleteIconText" (click)="deleteEditorItem(item)">
                                                <span style="top: 0;bottom: 0;">Delete</span> 
                                            </div>
                                            <img  class="editIcon" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                            <img class="duplicateIcon" (click)="duplicateItem(item)" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                        </div>
                                        <div class="spacer-item" id=divider{{item.tagId}}>
                                           <div id=dividerSvg{{item.tagId}} [style.stroke]= color  [ngStyle]="{'display': !item.src ? 'none' : 'block'}"  >
                                            <div class="my-icon" aria-label="My icon" [inlineSVG]="item.src"></div>
                                          </div>
                                        </div>
                                    </div>

                                </ng-container>
                                <ng-container *ngIf="item && item.tag=='image'">
                                    <div (mouseover)="showHoverBorder(item)" (mouseleave)="removeHoverBorder()"
                                        [ngClass]="{'activeImageBorder': tagBeingEdited.tagId === item.tagId || showBorder == item.tagId }"
                                        style="border: 1px solid transparent;">

                                        <!-- *ngIf="tagBeingEdited.tagId === item.tagId || showBorder == item.tagId" -->
                                        <div class="groub2" style="margin-top: -2%;position: absolute;margin-left: 45%;"  
                                            [ngClass]="{'hidden': tagBeingEdited.tagId !== item.tagId && showBorder !== item.tagId, 'visible': tagBeingEdited.tagId === item.tagId || showBorder == item.tagId}">
                                            <img class="deleteIcon" (click)="showDeleteText(item)"  id=deleteIcon{{tagBeingEdited.tagId}}
                                                style="float: right;" *ngIf="showDeleteButton != item.tagId">
                                            <div id=deleteText{{tagBeingEdited.tagId}} (click)="deleteEditorItem(item)" 
                                            *ngIf="showDeleteButton == item.tagId" style="color: red; background: white; border: 1px solid red; padding-right: 5px;"> 
                                                <img class="deleteIconText">
                                                <span style="top: 0;bottom: 0;">Delete</span> 
                                            </div>
                                            <img  class="editIcon" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                            <img class ="duplicateIcon" (click)="duplicateItem(item)" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                            <img class="imagecropIcon" (click)="showImgCropper(item)" *ngIf="item.defaultImage == false">
                                        </div>
                                        <div id=image{{item.tagId}} class="main-img"
                                            style="height: inherit !important;">
                                            <img alt={{item.altText}} src={{item.src}}>
                                        </div>
                                    </div>
                                </ng-container>

                                <ng-container *ngIf="item.tag=='button'">
                                    <div (mouseover)="showHoverBorder(item)" (mouseleave)="removeHoverBorder()"
                                        [ngClass]="{'activeImageBorder': tagBeingEdited.tagId == item.tagId || showBorder == item.tagId}"
                                        style="border: 1px solid transparent;">
                                        <!-- *ngIf="tagBeingEdited.tagId === item.tagId || showBorder == item.tagId" -->
                                        <div class="groub2" style="margin-top: -2%;position: absolute;margin-left: 48%;"
                                            [ngClass]="{'hidden': tagBeingEdited.tagId !== item.tagId && showBorder !== item.tagId, 'visible': tagBeingEdited.tagId === item.tagId || showBorder == item.tagId}">
                                            <img class="deleteIcon" (click)="showDeleteText(item)"  id=deleteIcon{{tagBeingEdited.tagId}}
                                                style="float: right;" *ngIf="showDeleteButton != item.tagId">
                                            <div id=deleteText{{tagBeingEdited.tagId}} (click)="deleteEditorItem(item)" 
                                            *ngIf="showDeleteButton == item.tagId" style="color: red; background: white; border: 1px solid red; padding-right: 5px;"> 
                                                <img class="deleteIconText" (click)="deleteEditorItem(item)">
                                                <span style="top: 0;bottom: 0;">Delete</span> 
                                            </div>
                                            <img  class="editIcon" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                            <img class="duplicateIcon" (click)="duplicateItem(item)" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                        </div>
                                        <div id=buttonDiv{{item.tagId}}>
                                            <button type="button" class="btn btn-warning" style="padding: 0px"
                                                id="ActionButton{{item.tagId}}">
                                                <h5 class="" id="button{{item.tagId}}" style="margin: auto;">
                                                    {{item && item.text ? item.text: ""}}</h5>
                                            </button>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container *ngIf="item.tag=='column'">
                                    <div class="tab-pane active" id="column{{item.tagId + item.id}}" style="height: auto;">
                                        <!--  id="content-body" paste this line in the below div if any design gets disturbed -->
                                        <div id="content-body">
                                            <!-- width: 90%;margin:5%; -->
                                            <!--  class="content text-center" paste this line in the below div if any design gets disturbed -->
                                            <div style="width: 100%;margin: 0px 6px 0px 0px;">
                                                <div class="secand secand2" (mouseover)="showHoverBorder(item)"
                                                    (mouseleave)="removeHoverBorder()"
                                                    [ngClass]="{'activeImageBorder': tagBeingEdited.tagId === item.tagId || showBorder == item.tagId }"
                                                    style="border: 1px solid transparent;padding: 0;">

                                                    <div class="join join2" id="column{{item.tagId}}"
                                                        style="margin: 0; border: none;"
                                                        [ngStyle]="{'background':tagBeingEdited.tagId === item.tagId || showBorder == item.tagId ? '#1E637733' : 'none' }">
                                                        <!-- style="margin-top: -11%"  -->
                                                        <div class="groub2"
                                                            style="margin-top: -3%;position: absolute;margin-left: 48%" 
                                                            *ngIf="tagBeingEdited.tagId === item.tagId || showBorder == item.tagId">
                                                            <img class="deleteIcon" (click)="showDeleteText(item)"  id=deleteIcon{{tagBeingEdited.tagId}}
                                                                style="float: right; margin: 5px;" *ngIf="showDeleteButton != item.tagId">
                                                            <div id=deleteText{{tagBeingEdited.tagId}} (click)="deleteEditorItem(item)" 
                                                            *ngIf="showDeleteButton == item.tagId" style="color: red; background: white; border: 1px solid red; padding-right: 5px;"> 
                                                                <img class="deleteIconText" (click)="deleteEditorItem(item)">
                                                                <span style="top: 0;bottom: 0;">Delete</span> 
                                                            </div>
                                                            <img class="duplicateIcon" (click)="duplicateItem(item)" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId || columnBeingEdited == item.id}">
                                                            <img class="columnlayoutIcon" [ngClass]="{'hidden': tagBeingEdited.tagId === item.tagId}">
                                                        </div>
                                                        <div class="row">
                                                            <ng-container *ngFor="let subTag of item.subTags">
                                                                <div *ngIf="subTag.tag == 'image'"
                                                                    class="col-lg-6 d-inline m-0 p-0 img"
                                                                    id="image{{subTag.tagId}}"
                                                                    (click)="onColumnInputText($event, subTag)"
                                                                    style="border: 1px solid transparent;padding: 2px !important;width: 50%;"
                                                                    [ngClass]="{'activeImageBorder': tagBeingEdited.tag=='image'}">
                                                                    <span (mouseover)="onColumnItemHover($e, subTag)"
                                                                        (mouseout)="onColumnItemHover($e, '')">
                                                                        <div class="groub" *ngIf="hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId && selectedElTagId != subTag.tagId"  style="position: absolute;right: 20px;top: -10px;z-index: 10;"
                                                                        >
                                                                            <!-- [ngClass]="{'hidden': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId != hoveredColumnItem.tagId, 'show': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId}" -->
                                                                            <img class="editIcon">
                                                                            <img class="imagecropIcon"  *ngIf="subTag.defaultImage == false" (click)="showImgCropper(subTag)">
                                                                        </div>
                                                                        <!-- assets/icons/avatar-01.jpg -->
                                                                        <div id="column{{subTag.tagId}}" style="position: relative"
                                                                            [ngClass]="{'': (hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId != hoveredColumnItem.tagId), 'col-ele': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId}">
                                                                            <img src="{{subTag.src}}"
                                                                                style="height: 100% !important;width: 100% ; margin-top: 0px !important;max-width:100% !important;">
                                                                            <div [ngClass]="{'':  selectedElTagId == subTag.tagId, 'cimg-overlay': selectedElTagId != subTag.tagId}" class="">
                                                                            </div>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                                <div class="col-lg-6 d-inline m-0 p-0 text" style="width: 50%" *ngIf="item.tagType == 1 && subTag.tag == 'button'"></div>
                                                                <div class="col-lg-6 d-inline m-0 p-0 text" id={{subTag.tagId}}
                                                                 *ngIf="subTag.tag != 'image'"
                                                                    (click)="onColumnInputText($event, subTag)"
                                                                    style="border: 1px solid transparent;padding: 0 !important;width: 50%;"
                                                                    [ngClass]="{'activeBorder': tagBeingEdited.tagId === subTag.tagId, 'hidden': subTag.tag == 'image', 'show': subTag.tag != 'image' }">
                                                                    <!-- *ngIf="subTag.tag != 'image'" id="{{subTag.tagId}}" -->
                                                                    <span contenteditable="true" (keydown)="onKeydown($event)" (keyup)="storeWindowSelection($event)"
                                                                        (mouseover)="onColumnItemHover($e, subTag)"
                                                                        (mouseout)="onColumnItemHover($e, '')">
                                                                        <h6 *ngIf="subTag.tag == 'text'"
                                                                            [ngClass]="{'bgt': tagBeingEdited.tagId === subTag.tagId, '': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId != hoveredColumnItem.tagId, 'col-ele': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId}">
                                                                            <div class="groub" style="position: absolute; top: 0px;" *ngIf=" hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId && selectedElTagId != subTag.tagId">
                                                                            <img class="editIcon" 
                                                                            
                                                                            (click)="editFocus('column', subTag);">
                                                                            </div>
                                                                            <!-- <button class="pencil"
                                                                                
                                                                                style="bottom: 28px;float: left;"
                                                                                
                                                                                <img
                                                                                    src="assets/icons/pencil-edit-button (1).svg">
                                                                            </button> -->
                                                                            <p id="column{{subTag.tagId}}" (mouseup)="storeWindowSelection($event)"
                                                                                style="width: auto;padding: 8% 2%;margin: 0; border-top: 0px solid;font-weight: normal;"
                                                                                [innerHtml]="subTag.text">
                                                                            </p>
                                                                        </h6>
                                                                    </span>
                                                                    <span (mouseover)="onColumnItemHover($e, subTag)" (mouseout)="onColumnItemHover($e, '')">
                                                                        <div class="groub" *ngIf="subTag.tag == 'button'" style="position: absolute; top:10px;">
                                                                            <img class="editIcon" 
                                                                            [ngClass]="{'hidden': (hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId != hoveredColumnItem.tagId) || (tagBeingEdited.tagId == subTag.tagId), 'show pencil-show': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId && selectedElTagId != subTag.tagId}"
                                                                            (click)="editFocus('column', subTag);">
                                                                        </div>
                                                                        <div id="column{{item.tagId+item.id}}"
                                                                            [ngClass]="{'bgt': tagBeingEdited.tagId === subTag.tagId, '': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId != hoveredColumnItem.tagId, 'col-ele': hoveredColumnItem && hoveredColumnItem.tagId && subTag.tagId == hoveredColumnItem.tagId}">
                                                                            <button *ngIf="subTag.tag == 'button'"
                                                                                type="button" class="btn btn-warning"
                                                                                id="ActionButton{{subTag.tagId}}"
                                                                                (click)="onColumnInputText($event, subTag)" style="padding: 0px;">
                                                                                <h5 id="button{{subTag.tagId}}" style="margin-bottom: auto;">
                                                                                    {{subTag.text}}</h5>
                                                                            </button>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </ng-template>
                    </ngx-sortable>
                    <!-- Footer -->
                    <div (click)="onEditorItemClick(footerTag);onInputText(footerTag);" id={{footerTag.tagId}}>
                        <ng-container *ngIf="footerTag.tag=='footer'">
                            <div (mouseover)="showHoverBorder(footerTag)" (mouseleave)="removeHoverBorder()"
                                [ngClass]="{'activeImageBorder': tagBeingEdited.tag=='footer' || showBorder == footerTag.tagId}"
                                style="border: 1px solid transparent;">
                                <div class="groub2" style="margin-top: -3%;display: inline-block;float: right;"
                                    *ngIf="tagBeingEdited.tag=='footer' || showBorder == footerTag.tagId">
                                    <img  class="editIcon" (click)="editFocus('title', headerTag)" [ngClass]="{'hidden': tagBeingEdited.tagId === footerTag.tagId}">
                                    <!-- <button class="pencil" style="float: right;">
                                        <img src="assets/icons/pencil-edit-button (1).svg"
                                            style="margin-right: -3px; height: 50px;">
                                    </button> -->
                                </div>
                                <div class="last" id=footer{{footerTag.tagId}}>
                                    <div class="row">
                                        <div class="col-lg-6 d-inline m-0 p-0 " style="width: 33% !important"
                                            *ngIf="showAddress == true || showPhoneNumber == true">
                                            <span *ngIf="showAddress == true"
                                                id="footerAddress">{{footerTag.address}}</span>
                                            <span *ngIf="showPhoneNumber == true"
                                                id="footerPhoneNumber">{{footerTag.phoneNumber}}</span>

                                        </div>
                                        <div class="col-lg-6 d-inline m-0 p-0" style="width: 33%;"
                                            *ngIf="showAddUrl == true">
                                            <span><a id="footerWebsideUrl"
                                                    href={{footerTag.linkUrl}}>{{footerTag.linkTitle}}</a></span>
                                        </div>
                                        <div class="col-lg-6 d-inline m-0 p-0" style="width: auto;"
                                            *ngIf="showShareVia == true">
                                            <span style="display: inline" class="share">Share</span>
                                            <a *ngIf="showPinterest == true" href="https://www.facebook.com/sharer.php?u={{baseUrl}}/preview/{{emailTemplate.id}}" target="_blank">
                                                <img id="pinterestIcon" src="https://zuuba.s3.amazonaws.com/1586845904953-pinterestShareIcon">
                                            </a>
                                            <a *ngIf="showFacebook == true" href="https://www.facebook.com/sharer.php?u={{baseUrl}}/preview/{{emailTemplate.id}}" target="_blank">
                                                <img id="facebookIcon" src="https://zuuba.s3.amazonaws.com/1586845662216-facebookshareIcon">
                                            </a>
                                            <a *ngIf="showTwitter == true" href="https://www.facebook.com/sharer.php?u={{baseUrl}}/preview/{{emailTemplate.id}}" target="_blank">
                                                <img id="twitterIcon" src="https://zuuba.s3.amazonaws.com/1586845769334-twittershareIcon">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </ng-container>
                    </div>
                    <!-- <div *ngIf="asSubmodule" style="position: fixed; bottom: 0px; background: white; width: 100vw">
                            <button (click)="onNavigate('emailBack')">Back</button>
                            <button (click)="onNavigate('emailNext')">Next</button>
                        </div> -->
                </div>
            </div>
            <!-- end  main-content -->
        </div>
        <!-- end section content -->
    </section>
</div>

<ngx-ui-loader></ngx-ui-loader>